get_filename_component(DIR ${CMAKE_CURRENT_SOURCE_DIR} NAME)
file(GLOB_RECURSE INCLUDE_LIST "${INCLUDE_DIR}/${DIR}/*.h*")
file(GLOB_RECURSE SOURCE_LIST "*.h*" "*.c*" "*.asm")
add_library(flame_foundation SHARED ${INCLUDE_LIST} ${SOURCE_LIST})
set_target_properties(flame_foundation PROPERTIES FOLDER "flame")
target_compile_definitions(flame_foundation PRIVATE FLAME_FOUNDATION_MODULE)
target_include_directories(flame_foundation PUBLIC "${GLM_INCLUDE_DIR}")
target_include_directories(flame_foundation PUBLIC "${PUGIXML_INCLUDE_DIR}")
target_include_directories(flame_foundation PUBLIC "${NJSON_INCLUDE_DIR}")
target_include_directories(flame_foundation PUBLIC "${CPPCODEC_INCLUDE_DIR}")
target_include_directories(flame_foundation PRIVATE "${STB_INCLUDE_DIR}")
target_include_directories(flame_foundation PUBLIC "${CMAKE_SOURCE_DIR}/include")
target_link_libraries(flame_foundation imagehlp.lib)
target_link_libraries(flame_foundation debug "${PUGIXML_DEBUG_STATIC_LIBRARY_PATH}")
target_link_libraries(flame_foundation optimized "${PUGIXML_RELEASE_STATIC_LIBRARY_PATH}")
target_precompile_headers(flame_foundation PUBLIC "${CMAKE_SOURCE_DIR}/include/pch.h")
