file(GLOB SOURCE_LIST "*.c*")
add_lib(flame_foundation "${SOURCE_LIST}" "flame")
target_compile_definitions(flame_foundation PRIVATE FLAME_FOUNDATION_MODULE)
target_include_directories(flame_foundation PRIVATE ${RAPIDXML_PATH})
target_include_directories(flame_foundation PRIVATE "C:/Program Files (x86)/Microsoft Visual Studio/2019/Preview/DIA SDK/include")
target_include_directories(flame_foundation PRIVATE "C:/Program Files (x86)/Microsoft Visual Studio/2019/Preview/VC/Tools/MSVC/14.14.26428/atlmfc/include")
target_include_directories(flame_foundation PRIVATE ${STB_PATH})
target_include_directories(flame_foundation PUBLIC "${CMAKE_SOURCE_DIR}/include")
target_link_libraries(flame_foundation "C:/Program Files (x86)/Microsoft Visual Studio/2019/Preview/DIA SDK/lib/amd64/diaguids.lib")
add_custom_target(copy_dia_dlls COMMAND ${CMAKE_COMMAND} -E copy_if_different "C:/Program Files (x86)/Microsoft Visual Studio/2019/Preview/DIA SDK/bin/amd64/msdia140.dll" ${CMAKE_SOURCE_DIR}/bin)
add_dependencies(flame_foundation copy_dia_dlls)
