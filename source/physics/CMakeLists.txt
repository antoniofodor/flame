file(GLOB_RECURSE SOURCE_LIST "*.c*")
generate_rc("")
add_library(flame_physics SHARED ${SOURCE_LIST})
set_target_properties(flame_physics PROPERTIES FOLDER "flame")
target_compile_definitions(flame_physics PRIVATE FLAME_PHYSICS_MODULE)
target_include_directories(flame_physics PUBLIC "${CMAKE_SOURCE_DIR}/include")
if (FLAME_ENABLE_PHYSICS)
	target_include_directories(flame_physics PRIVATE "${PHYSX_DIR}/PhysX_3.4/Include")
	target_include_directories(flame_physics PRIVATE "${PHYSX_DIR}/PxShared/include")
	target_link_libraries(flame_physics "${PHYSX_STATIC_LIBRARY_DIR}/PxFoundationRELEASE_x64.lib")
	target_link_libraries(flame_physics "${PHYSX_STATIC_LIBRARY_DIR}/PhysX3RELEASE_x64.lib")
	target_link_libraries(flame_physics "${PHYSX_STATIC_LIBRARY_DIR}/PhysX3CommonRELEASE_x64.lib")
	target_link_libraries(flame_physics "${PHYSX_STATIC_LIBRARY_DIR}/PhysX3ExtensionsRELEASE.lib")
	add_custom_command(TARGET flame_physics POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_if_different "${PHYSX_SHARED_LIBRARY_DIR}/PxFoundationRELEASE_x64.dll" $(TargetDir))
	add_custom_command(TARGET flame_physics POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_if_different "${PHYSX_SHARED_LIBRARY_DIR}/PhysX3RELEASE_x64.dll" $(TargetDir))
	add_custom_command(TARGET flame_physics POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_if_different "${PHYSX_SHARED_LIBRARY_DIR}/PhysX3CommonRELEASE_x64.dll" $(TargetDir))
endif()
